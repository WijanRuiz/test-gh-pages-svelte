import{S as ge,i as be,s as _e,e as r,j as E,v as J,t as K,c as n,a as i,d as o,l as k,w as Q,g as Y,b as t,f as we,L as e,x as Z,U as z,M as ee,V as $e,p as te,n as se,A as ae,N as Ee,X as pe}from"../../chunks/vendor-47e42e2c.js";import{B as me,S as fe}from"../../chunks/button-011beeb2.js";import{I as ke}from"../../chunks/icon-ea667a57.js";import{a as Ie}from"../../chunks/authSupabase-5f7dbe5b.js";import{S as je}from"../../chunks/session-state-52d6fb5b.js";import{g as he}from"../../chunks/navigation-c71191e7.js";import{p as Se}from"../../chunks/stores-50a79dea.js";import"../../chunks/supabase-2551c048.js";import"../../chunks/singletons-a42a5e91.js";class ye{}function Le(d){let c,f,I,h,a,p,v,N,b,U,j,m,S,y,C,F,l,H,_,L,O,R,u,W,w,D,V,X,P,$,M,G,re;return v=new ke({props:{icon:"lock",isWhite:!0}}),V=new me({props:{icon:"login",type:"submit",content:"Login",state:fe.Info}}),$=new me({props:{icon:"user-add",type:"button",content:"SignUp",state:fe.Info}}),$.$on("click",d[4]),{c(){c=r("main"),f=r("div"),I=E(),h=r("div"),a=r("div"),p=r("div"),J(v.$$.fragment),N=E(),b=r("h1"),U=K("Login"),j=E(),m=r("form"),S=r("div"),y=r("label"),C=K("Email"),F=E(),l=r("input"),H=E(),_=r("div"),L=r("label"),O=K("Password"),R=E(),u=r("input"),W=E(),w=r("div"),D=r("div"),J(V.$$.fragment),X=E(),P=r("div"),J($.$$.fragment),this.h()},l(s){c=n(s,"MAIN",{class:!0});var g=i(c);f=n(g,"DIV",{class:!0});var ve=i(f);ve.forEach(o),I=k(g),h=n(g,"DIV",{class:!0});var ne=i(h);a=n(ne,"DIV",{class:!0});var A=i(a);p=n(A,"DIV",{class:!0});var oe=i(p);Q(v.$$.fragment,oe),oe.forEach(o),N=k(A),b=n(A,"H1",{class:!0});var le=i(b);U=Y(le,"Login"),le.forEach(o),j=k(A),m=n(A,"FORM",{class:!0});var B=i(m);S=n(B,"DIV",{});var q=i(S);y=n(q,"LABEL",{class:!0,for:!0});var ie=i(y);C=Y(ie,"Email"),ie.forEach(o),F=k(q),l=n(q,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0,autocomplete:!0}),q.forEach(o),H=k(B),_=n(B,"DIV",{class:!0});var x=i(_);L=n(x,"LABEL",{class:!0,for:!0});var ce=i(L);O=Y(ce,"Password"),ce.forEach(o),R=k(x),u=n(x,"INPUT",{id:!0,class:!0,type:!0,placeholder:!0,autocomplete:!0}),x.forEach(o),W=k(B),w=n(B,"DIV",{class:!0});var T=i(w);D=n(T,"DIV",{class:!0});var ue=i(D);Q(V.$$.fragment,ue),ue.forEach(o),X=k(T),P=n(T,"DIV",{class:!0});var de=i(P);Q($.$$.fragment,de),de.forEach(o),T.forEach(o),B.forEach(o),A.forEach(o),ne.forEach(o),g.forEach(o),this.h()},h(){t(f,"class","h-screen col-span-3 bg-cover bg-center bg-no-repeat bg-[url('https://ztywluqchjsjrrsiytax.supabase.in/storage/v1/object/public/app/login-bg.jpg')]"),t(p,"class","w-10 h-10 p-2 bg-indigo-500 rounded-full m-auto"),t(b,"class","text-xl text-center w-full"),t(y,"class","block"),t(y,"for","email"),t(l,"id","email"),t(l,"class","border w-full p-2 rounded"),t(l,"type","text"),t(l,"placeholder","Email"),l.autofocus=!0,t(l,"autocomplete","email"),t(L,"class","block"),t(L,"for","password"),t(u,"id","password"),t(u,"class","border w-full p-2 rounded"),t(u,"type","password"),t(u,"placeholder","Password"),t(u,"autocomplete","current-password"),t(_,"class","mt-2"),t(D,"class","inline-block m-auto"),t(P,"class","inline-block m-auto"),t(w,"class","mt-4 inline-block w-full"),t(m,"class","mt-2"),t(a,"class","mt-60"),t(h,"class","p-5 col-span-2"),t(c,"class","h-screen grid grid-cols-5")},m(s,g){we(s,c,g),e(c,f),e(c,I),e(c,h),e(h,a),e(a,p),Z(v,p,null),e(a,N),e(a,b),e(b,U),e(a,j),e(a,m),e(m,S),e(S,y),e(y,C),e(S,F),e(S,l),z(l,d[0].email),e(m,H),e(m,_),e(_,L),e(L,O),e(_,R),e(_,u),z(u,d[0].password),e(m,W),e(m,w),e(w,D),Z(V,D,null),e(w,X),e(w,P),Z($,P,null),M=!0,l.focus(),G||(re=[ee(l,"input",d[2]),ee(u,"input",d[3]),ee(m,"submit",$e(d[1]))],G=!0)},p(s,[g]){g&1&&l.value!==s[0].email&&z(l,s[0].email),g&1&&u.value!==s[0].password&&z(u,s[0].password)},i(s){M||(te(v.$$.fragment,s),te(V.$$.fragment,s),te($.$$.fragment,s),M=!0)},o(s){se(v.$$.fragment,s),se(V.$$.fragment,s),se($.$$.fragment,s),M=!1},d(s){s&&o(c),ae(v),ae(V),ae($),G=!1,Ee(re)}}}function Ve(d,c,f){let I,h;pe(d,je,j=>f(6,I=j)),pe(d,Se,j=>f(7,h=j));let a=new ye,p=h.url.searchParams.get("redirect");async function v(){await Ie.login(a),I.user&&I.user.aud=="authenticated"&&(p=p||"/app",he(p))}function N(){a.email=this.value,f(0,a)}function b(){a.password=this.value,f(0,a)}return[a,v,N,b,()=>he("/auth/signup")]}class Te extends ge{constructor(c){super();be(this,c,Ve,Le,_e,{})}}export{Te as default};
